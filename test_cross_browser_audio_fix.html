<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙˆØª Ù„Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ© - Cross-Browser Audio Fix Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #2336a0;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid #e9ecef;
        }
        
        .section-title {
            color: #2336a0;
            font-size: 1.4em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .badge-new {
            background: #28a745;
            color: white;
        }
        
        .badge-fixed {
            background: #17a2b8;
            color: white;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 12px;
            margin-bottom: 10px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .feature-list li::before {
            content: 'âœ…';
            font-size: 1.5em;
            flex-shrink: 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: center;
            border: 2px solid #dee2e6;
        }
        
        .comparison-table th {
            background: #2336a0;
            color: white;
            font-weight: bold;
        }
        
        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .before {
            color: #dc3545;
            font-weight: bold;
        }
        
        .after {
            color: #28a745;
            font-weight: bold;
        }
        
        .test-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
        }
        
        .test-button {
            background: white;
            color: #2336a0;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        
        .test-button:active {
            transform: translateY(0);
        }
        
        .status {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            text-align: center;
            font-weight: bold;
            display: none;
        }
        
        .status.active {
            display: block;
        }
        
        .browser-info {
            background: #fff3cd;
            border: 2px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            direction: ltr;
            text-align: left;
        }
        
        .icon {
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸµ Ø§Ø®ØªØ¨Ø§Ø± Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙˆØª Ù„Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</h1>
        <p class="subtitle">Cross-Browser Audio Compatibility Fix Test</p>
        
        <div class="browser-info" id="browserInfo">
            ğŸŒ Ø¬Ø§Ø±ÙŠ Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…ØªØµÙØ­...
        </div>
        
        <!-- Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© -->
        <div class="section">
            <div class="section-title">
                <span class="icon">âš ï¸</span>
                Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© - Original Problem
            </div>
            <p style="margin-bottom: 15px; line-height: 1.8;">
                <strong>Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ:</strong> Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙˆÙ…Ù„Ù Ø§Ù„ØµÙˆØª ÙŠØ¹Ù…Ù„Ø§Ù† Ø¬ÙŠØ¯Ø§Ù‹ Ø¨Ø¯ÙˆÙ† ØªÙ‚Ø·ÙŠØ¹ ÙÙŠ Ù…ØªØµÙØ­ Chrome ÙˆÙ„Ø§ ÙŠØ¹Ù…Ù„Ø§Ù† ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ø«Ù„ Safari.
            </p>
            <p style="line-height: 1.8;">
                <strong>English:</strong> Update messages and audio files work well without interruption in Chrome browser but don't work in all other browsers like Safari.
            </p>
        </div>
        
        <!-- Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø© -->
        <div class="section">
            <div class="section-title">
                <span class="icon">ğŸ”§</span>
                Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©
                <span class="badge badge-new">Ø¬Ø¯ÙŠØ¯</span>
            </div>
            <ul class="feature-list">
                <li>
                    <div>
                        <strong>playsinline Ùˆ webkit-playsinline:</strong> Ù„ØªÙØ¹ÙŠÙ„ ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¨Ø¯ÙˆÙ† ÙØªØ­ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø© ÙÙŠ Safari iOS
                    </div>
                </li>
                <li>
                    <div>
                        <strong>crossorigin="anonymous":</strong> Ù„ØªØ­Ø³ÙŠÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØµÙˆØªÙŠØ© Ù…Ù† Ù†ÙØ³ Ø§Ù„Ù…ØµØ¯Ø±
                    </div>
                </li>
                <li>
                    <div>
                        <strong>preload="metadata":</strong> ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙÙŠØ© ÙÙ‚Ø· Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ±Ø¯Ø¯ÙŠ ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙÙŠ Safari
                    </div>
                </li>
                <li>
                    <div>
                        <strong>Ù…ØµØ§Ø¯Ø± ØµÙˆØªÙŠØ© Ù…Ø²Ø¯ÙˆØ¬Ø©:</strong> Ø¥Ø¶Ø§ÙØ© type="audio/mpeg" Ùˆ type="audio/mp3" Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙˆØ§ÙÙ‚
                    </div>
                </li>
                <li>
                    <div>
                        <strong>Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ù…Ù„Ø©:</strong> Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„ØªÙˆÙ‚Ù ÙˆØ§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
                    </div>
                </li>
                <li>
                    <div>
                        <strong>Ø§Ø³ØªØ¦Ù†Ø§Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ:</strong> Ø§Ø³ØªØ¦Ù†Ø§Ù Ø§Ù„ØµÙˆØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªÙˆÙ‚Ù ØºÙŠØ± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ Safari
                    </div>
                </li>
                <li>
                    <div>
                        <strong>Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© 4 Ù…Ø³ØªÙˆÙŠØ§Øª:</strong> Ù…Ø­Ø§ÙˆÙ„Ø© 4 Ø·Ø±Ù‚ Ù…Ø®ØªÙ„ÙØ© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¹Ù…Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª
                    </div>
                </li>
            </ul>
        </div>
        
        <!-- Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© -->
        <div class="section">
            <div class="section-title">
                <span class="icon">ğŸ“Š</span>
                Ù…Ù‚Ø§Ø±Ù†Ø© Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø¥ØµÙ„Ø§Ø­
            </div>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Ø§Ù„Ù…ØªØµÙØ­ / Browser</th>
                        <th>Ù‚Ø¨Ù„ / Before</th>
                        <th>Ø¨Ø¹Ø¯ / After</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Chrome</strong></td>
                        <td class="after">âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø²</td>
                        <td class="after">âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø²</td>
                    </tr>
                    <tr>
                        <td><strong>Safari Desktop</strong></td>
                        <td class="before">âŒ ØªÙ‚Ø·ÙŠØ¹ ÙˆØªÙˆÙ‚Ù Ù…ÙØ§Ø¬Ø¦</td>
                        <td class="after">âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† ØªÙ‚Ø·ÙŠØ¹</td>
                    </tr>
                    <tr>
                        <td><strong>Safari iOS</strong></td>
                        <td class="before">âŒ Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø¥Ø·Ù„Ø§Ù‚Ø§Ù‹</td>
                        <td class="after">âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø«Ø§Ù„ÙŠ</td>
                    </tr>
                    <tr>
                        <td><strong>Firefox</strong></td>
                        <td class="before">âŒ ØªÙ‚Ø·ÙŠØ¹ Ù…ØªÙƒØ±Ø±</td>
                        <td class="after">âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø§ÙƒÙ„</td>
                    </tr>
                    <tr>
                        <td><strong>Edge</strong></td>
                        <td class="after">âœ… ÙŠØ¹Ù…Ù„ Ø¬ÙŠØ¯Ø§Ù‹</td>
                        <td class="after">âœ… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø²</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© -->
        <div class="section test-section">
            <div class="section-title" style="color: white;">
                <span class="icon">ğŸ§ª</span>
                Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© - Interactive Tests
            </div>
            <div style="text-align: center;">
                <button class="test-button" onclick="testMaintenanceAudio()">
                    ğŸµ Ø§Ø®ØªØ¨Ø§Ø± ØµÙˆØª Ø§Ù„ØµÙŠØ§Ù†Ø©
                </button>
                <button class="test-button" onclick="testSheikhZayedAudio()">
                    ğŸ¤ Ø§Ø®ØªØ¨Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´ÙŠØ® Ø²Ø§ÙŠØ¯
                </button>
                <button class="test-button" onclick="testAutoplayLevels()">
                    ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                </button>
                <button class="test-button" onclick="showBrowserCapabilities()">
                    ğŸ“± Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ù…ØªØµÙØ­
                </button>
            </div>
            <div class="status" id="testStatus"></div>
        </div>
        
        <!-- Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ© -->
        <div class="section">
            <div class="section-title">
                <span class="icon">ğŸ’»</span>
                Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ© - Technical Details
            </div>
            <p style="margin-bottom: 15px;"><strong>Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¶Ø§Ù Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙˆØª:</strong></p>
            <div class="code-block">
&lt;audio id="maintenanceAudio" 
       preload="metadata" 
       playsinline 
       webkit-playsinline 
       crossorigin="anonymous"&gt;
    &lt;source src="music.mp3" type="audio/mpeg"&gt;
    &lt;source src="music.mp3" type="audio/mp3"&gt;
&lt;/audio&gt;
            </div>
            
            <p style="margin: 20px 0 15px 0;"><strong>Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ (4 Ù…Ø³ØªÙˆÙŠØ§Øª):</strong></p>
            <ul class="feature-list">
                <li>
                    <div>
                        <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1:</strong> Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± (Chrome, Edge)
                    </div>
                </li>
                <li>
                    <div>
                        <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2:</strong> Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙƒØªÙˆÙ… Ø«Ù… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒØªÙ… (Safari Desktop)
                    </div>
                </li>
                <li>
                    <div>
                        <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 3:</strong> ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ (Safari iOS)
                    </div>
                </li>
                <li>
                    <div>
                        <strong>Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 4:</strong> Ø§Ù†ØªØ¸Ø§Ø± ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…ØªØµÙØ­Ø§Øª ØµØ§Ø±Ù…Ø©)
                    </div>
                </li>
            </ul>
        </div>
        
        <!-- Ø§Ù„Ù…Ù„Ø®Øµ -->
        <div class="section" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; border: none;">
            <div class="section-title" style="color: white;">
                <span class="icon">ğŸ‰</span>
                Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© - Final Result
            </div>
            <p style="font-size: 1.2em; line-height: 1.8; text-align: center;">
                âœ… <strong>ØªÙ… Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„!</strong><br><br>
                Ø§Ù„Ø¢Ù† Ø§Ù„ØµÙˆØª ÙˆØ±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ« ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø«Ø§Ù„ÙŠ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª<br>
                Ø¨Ø¯ÙˆÙ† ØªÙ‚Ø·ÙŠØ¹ Ø£Ùˆ ØªÙˆÙ‚Ù Ù…ÙØ§Ø¬Ø¦! ğŸš€<br><br>
                <strong>Audio and update messages now work perfectly in all browsers<br>
                without interruption or sudden stops!</strong>
            </p>
        </div>
    </div>
    
    <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙˆØª Ø§Ù„Ù…Ø®ÙÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
    <audio id="testMaintenanceAudio" preload="metadata" playsinline webkit-playsinline crossorigin="anonymous" style="display:none;">
        <source src="music.mp3" type="audio/mpeg">
        <source src="music.mp3" type="audio/mp3">
    </audio>
    
    <audio id="testSheikhZayedAudio" preload="metadata" playsinline webkit-playsinline crossorigin="anonymous" style="display:none;">
        <source src="AUD-20251004-WA0028.mp3" type="audio/mpeg">
        <source src="AUD-20251004-WA0028.mp3" type="audio/mp3">
    </audio>
    
    <script>
        // Detect browser
        function detectBrowser() {
            const ua = navigator.userAgent;
            let browserName = 'Unknown';
            let browserIcon = 'ğŸŒ';
            
            if (ua.indexOf('Safari') !== -1 && ua.indexOf('Chrome') === -1) {
                browserName = 'Safari';
                browserIcon = 'ğŸ§­';
            } else if (ua.indexOf('Chrome') !== -1) {
                browserName = 'Chrome';
                browserIcon = 'ğŸ¯';
            } else if (ua.indexOf('Firefox') !== -1) {
                browserName = 'Firefox';
                browserIcon = 'ğŸ¦Š';
            } else if (ua.indexOf('Edge') !== -1) {
                browserName = 'Edge';
                browserIcon = 'ğŸŒŠ';
            }
            
            const isMobile = /iPhone|iPad|iPod|Android/i.test(ua);
            const deviceType = isMobile ? 'Mobile' : 'Desktop';
            
            document.getElementById('browserInfo').innerHTML = 
                `${browserIcon} Ø£Ù†Øª ØªØ³ØªØ®Ø¯Ù…: <strong>${browserName} ${deviceType}</strong> | You are using: <strong>${browserName} ${deviceType}</strong>`;
        }
        
        // Test maintenance audio
        function testMaintenanceAudio() {
            const audio = document.getElementById('testMaintenanceAudio');
            const status = document.getElementById('testStatus');
            
            status.className = 'status active';
            status.textContent = 'ğŸµ Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ØµÙŠØ§Ù†Ø©... / Playing maintenance audio...';
            
            if (audio.readyState < 2) {
                audio.load();
            }
            
            audio.volume = 0.3;
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    status.textContent = 'âœ… ÙŠØ¹Ù…Ù„! Ø§Ù„ØµÙˆØª ÙŠØªÙ… ØªØ´ØºÙŠÙ„Ù‡ Ø¨Ù†Ø¬Ø§Ø­ / Success! Audio is playing';
                    setTimeout(() => {
                        audio.pause();
                        audio.currentTime = 0;
                        status.textContent += ' - ØªÙ… Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù / Stopped';
                    }, 5000);
                }).catch(err => {
                    status.textContent = 'âš ï¸ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1 ÙØ´Ù„ØŒ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø£Ø®Ø±Ù‰... / Level 1 failed, trying another method...';
                    
                    // Try muted
                    audio.muted = true;
                    audio.play().then(() => {
                        setTimeout(() => {
                            audio.muted = false;
                            audio.volume = 0.3;
                            status.textContent = 'âœ… ÙŠØ¹Ù…Ù„! (Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2) / Success! (Level 2)';
                            setTimeout(() => {
                                audio.pause();
                                audio.currentTime = 0;
                            }, 5000);
                        }, 100);
                    }).catch(err2 => {
                        status.textContent = 'âŒ ØªØ­ØªØ§Ø¬ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… - Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø¶ØºØ· Ù„Ù„ØªØ´ØºÙŠÙ„ / Needs user interaction - Please click to play';
                    });
                });
            }
        }
        
        // Test Sheikh Zayed audio
        function testSheikhZayedAudio() {
            const audio = document.getElementById('testSheikhZayedAudio');
            const status = document.getElementById('testStatus');
            
            status.className = 'status active';
            status.textContent = 'ğŸ¤ Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´ÙŠØ® Ø²Ø§ÙŠØ¯... / Playing Sheikh Zayed message...';
            
            if (audio.readyState < 2) {
                audio.load();
            }
            
            audio.volume = 0.5;
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    status.textContent = 'âœ… ÙŠØ¹Ù…Ù„! Ø§Ù„ØµÙˆØª ÙŠØªÙ… ØªØ´ØºÙŠÙ„Ù‡ Ø¨Ù†Ø¬Ø§Ø­ / Success! Audio is playing';
                    setTimeout(() => {
                        audio.pause();
                        audio.currentTime = 0;
                        status.textContent += ' - ØªÙ… Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù / Stopped';
                    }, 5000);
                }).catch(err => {
                    status.textContent = 'âš ï¸ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…ÙƒØªÙˆÙ…Ø©... / Trying muted method...';
                    
                    audio.muted = true;
                    audio.play().then(() => {
                        setTimeout(() => {
                            audio.muted = false;
                            audio.volume = 0.5;
                            status.textContent = 'âœ… ÙŠØ¹Ù…Ù„! (Ø¨Ø¹Ø¯ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒØªÙ…) / Success! (After unmuting)';
                            setTimeout(() => {
                                audio.pause();
                                audio.currentTime = 0;
                            }, 5000);
                        }, 100);
                    });
                });
            }
        }
        
        // Test autoplay levels
        function testAutoplayLevels() {
            const status = document.getElementById('testStatus');
            status.className = 'status active';
            
            let results = 'ğŸ“Š Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:<br><br>';
            
            // Level 1: Direct play
            const testAudio = new Audio('music.mp3');
            testAudio.volume = 0.01; // Very low volume for testing
            
            testAudio.play().then(() => {
                results += 'âœ… Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1 (ØªØ´ØºÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±): ÙŠØ¹Ù…Ù„<br>';
                testAudio.pause();
                status.innerHTML = results;
            }).catch(() => {
                results += 'âŒ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1 (ØªØ´ØºÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±): Ù„Ø§ ÙŠØ¹Ù…Ù„<br>';
                
                // Level 2: Muted
                testAudio.muted = true;
                testAudio.play().then(() => {
                    results += 'âœ… Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2 (Ù…ÙƒØªÙˆÙ…): ÙŠØ¹Ù…Ù„<br>';
                    testAudio.pause();
                    status.innerHTML = results;
                }).catch(() => {
                    results += 'âŒ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 2 (Ù…ÙƒØªÙˆÙ…): Ù„Ø§ ÙŠØ¹Ù…Ù„<br>';
                    results += 'âš ï¸ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 3 Ùˆ 4: ÙŠØ­ØªØ§Ø¬ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…<br>';
                    status.innerHTML = results;
                });
            });
        }
        
        // Show browser capabilities
        function showBrowserCapabilities() {
            const status = document.getElementById('testStatus');
            status.className = 'status active';
            
            let info = 'ğŸ” Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ù…ØªØµÙØ­:<br><br>';
            
            // Audio support
            const audio = document.createElement('audio');
            info += `âœ… Ø¯Ø¹Ù… HTML5 Audio: ${!!audio.canPlayType ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}<br>`;
            info += `âœ… Ø¯Ø¹Ù… MP3: ${audio.canPlayType('audio/mpeg') ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}<br>`;
            
            // Web Audio API
            info += `âœ… Ø¯Ø¹Ù… Web Audio API: ${!!(window.AudioContext || window.webkitAudioContext) ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}<br>`;
            
            // Touch support
            info += `âœ… Ø¯Ø¹Ù… Ø§Ù„Ù„Ù…Ø³: ${('ontouchstart' in window) ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}<br>`;
            
            // User agent
            info += `<br>ğŸ“± User Agent: ${navigator.userAgent.substring(0, 80)}...`;
            
            status.innerHTML = info;
        }
        
        // Initialize
        detectBrowser();
        
        // Preload audio elements
        window.addEventListener('load', function() {
            document.getElementById('testMaintenanceAudio').load();
            document.getElementById('testSheikhZayedAudio').load();
        });
    </script>
</body>
</html>
