<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠ Ù„Ù„Ù…ÙØªØ´</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cairo', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2d3561;
        }
        
        select, input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Cairo', Arial, sans-serif;
            font-size: 1em;
        }
        
        #shopsDisplay {
            margin-top: 30px;
        }
        
        .stats-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ù…ÙŠØ²Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø´Ù‡Ø±ÙŠ Ù„Ù„Ù…Ø­Ù„Ø§Øª</h1>
            <p>Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙØªØ´ØŒ ØªØ¸Ù‡Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ù‡</p>
        </div>
        
        <div class="form-group">
            <label>Ø§Ø®ØªØ± Ø§Ù„Ù…ÙØªØ´:</label>
            <select id="inspectorSelect" onchange="updateShopsDisplay()">
                <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…ÙØªØ´ --</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>Ø§Ù„ØªØ§Ø±ÙŠØ® (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
            <input type="date" id="dateInput" onchange="updateShopsDisplay()">
        </div>
        
        <div class="form-group">
            <label>Ø§Ù„Ù…Ù†Ø·Ù‚Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
            <select id="areaSelect" onchange="updateShopsDisplay()">
                <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>
            </select>
        </div>
        
        <div id="shopsDisplay"></div>
    </div>
    
    <script>
        // Mock data
        const mockPlanData = {
            inspectors: [
                { id: "1", name: "Ø¯. Ø¢Ù…Ù†Ù‡ Ø¨Ù† ØµØ±Ù…" },
                { id: "2", name: "Ø¯. Ø¢ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©" },
                { id: "3", name: "Ø¯. Ø­Ø³ÙŠÙ†Ø© Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ" },
                { id: "4", name: "Ø¯. Ø­ØµØ© Ø§Ù„Ø¹Ù„ÙŠ" },
                { id: "5", name: "Ø¯. Ø¹Ù„ÙŠ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø§Ù„" }
            ],
            areas: [
                { id: "a1", name: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡" },
                { id: "a2", name: "Ø§Ù„Ø­ØµÙ†" },
                { id: "a3", name: "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©" },
                { id: "a4", name: "Ø§Ù„Ø¨Ø·ÙŠÙ†" },
                { id: "a5", name: "Ø§Ù„Ù…Ø´Ø±Ù" }
            ],
            shops: [
                { id: "s1", name: "Ù…Ø­Ù„ Ø¨ÙŠØª Ø§Ù„Ø·ÙŠÙˆØ±", areaId: "a1", area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡" },
                { id: "s2", name: "Ù…Ø­Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ù„Ù„Ø·ÙŠÙˆØ±", areaId: "a1", area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡" },
                { id: "s3", name: "Ù…Ø­Ù„ Ø§Ù„Ø³Ø­Ø± Ù„Ù„Ø·ÙŠÙˆØ±", areaId: "a1", area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡" },
                { id: "s4", name: "Ø§Ù„Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„ÙƒÙ†Ø¯ÙŠØ©", areaId: "a1", area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡" },
                { id: "s5", name: "Ù…Ø­Ù„ Ø¨ÙŠØªØ³ Ø§Ø³ØªÙŠØ´Ù†", areaId: "a1", area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡" },
                { id: "s6", name: "Ù…Ø­Ù„ ÙÙˆØ±Ø³ Ø£Ù†Ø¯ ÙÙŠØ°Ø±Ø³", areaId: "a2", area: "Ø§Ù„Ø­ØµÙ†" },
                { id: "s7", name: "Ù…Ø­Ù„ Ø£ÙƒÙˆØ§ Ø±ÙŠØ³Øª Ù‡Ø¨", areaId: "a2", area: "Ø§Ù„Ø­ØµÙ†" },
                { id: "s8", name: "Ù…Ø­Ù„ Ù…Ø±ÙƒØ² Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ù…Ø§Ø¦ÙŠØ©", areaId: "a2", area: "Ø§Ù„Ø­ØµÙ†" },
                { id: "s9", name: "ØµØ§Ù„ÙˆÙ† Ù‡ÙŠÙ…Ø§Ù„Ø§ÙŠØ§ Ù„Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª", areaId: "a2", area: "Ø§Ù„Ø­ØµÙ†" },
                { id: "s10", name: "Ø¯Ø±ÙŠÙ… ÙˆÙˆØ±Ù„Ø¯ Ù„Ù„Ø²Ù‡ÙˆØ± ÙˆØ£Ø³Ù…Ø§Ùƒ Ø§Ù„Ø²ÙŠÙ†Ø©", areaId: "a2", area: "Ø§Ù„Ø­ØµÙ†" },
                { id: "s11", name: "Ù…Ø­Ù„ Ø¬Ø±ÙŠÙ† Ù„Ù†Ø¯Ø²", areaId: "a3", area: "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©" },
                { id: "s12", name: "Ù…Ø­Ù„ Ø¹ØµØ§ÙÙŠØ± Ø§Ù„Ø®Ù„ÙŠØ¬", areaId: "a3", area: "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©" },
                { id: "s13", name: "Ù…Ø­Ù„ Ø¬Ø±Ø§Ø­ Ù„Ù„Ø·ÙŠÙˆØ±", areaId: "a3", area: "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©" },
                { id: "s14", name: "Ù…Ø­Ù„ Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ø±Ù‚ Ù„Ø£Ø³Ù…Ø§Ùƒ Ø§Ù„Ø²ÙŠÙ†Ø©", areaId: "a3", area: "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©" },
                { id: "s15", name: "Ø¹ÙŠØ§Ø¯Ø© Ù„Ø§ÙŠÙ Ù„Ø§ÙŠÙ†", areaId: "a3", area: "Ø§Ù„Ø®Ø§Ù„Ø¯ÙŠØ©" }
            ],
            inspectionData: [
                {
                    inspector: "Ø¯. Ø¢Ù…Ù†Ù‡ Ø¨Ù† ØµØ±Ù…",
                    day: "2025-09-26",
                    area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡",
                    shops: ["Ù…Ø­Ù„ Ø¨ÙŠØª Ø§Ù„Ø·ÙŠÙˆØ±", "Ù…Ø­Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ù„Ù„Ø·ÙŠÙˆØ±"]
                }
            ]
        };
        
        // Initialize
        window.planData = mockPlanData;
        
        // Populate dropdowns
        const inspectorSelect = document.getElementById('inspectorSelect');
        const areaSelect = document.getElementById('areaSelect');
        
        mockPlanData.inspectors.forEach(inspector => {
            const option = document.createElement('option');
            option.value = inspector.name;
            option.textContent = inspector.name;
            inspectorSelect.appendChild(option);
        });
        
        mockPlanData.areas.forEach(area => {
            const option = document.createElement('option');
            option.value = area.name;
            option.textContent = area.name;
            areaSelect.appendChild(option);
        });
        
        // Update shops display function
        function updateShopsDisplay() {
            const inspector = document.getElementById('inspectorSelect').value;
            const date = document.getElementById('dateInput').value;
            const area = document.getElementById('areaSelect').value;
            const container = document.getElementById('shopsDisplay');
            
            if (!inspector) {
                container.innerHTML = '<p style="text-align: center; color: #999; padding: 20px;">Ø§Ø®ØªØ± Ø§Ù„Ù…ÙØªØ´ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ù„Ø§Øª</p>';
                return;
            }
            
            // NEW FEATURE: Show monthly view when only inspector is selected
            if (inspector && !date && !area) {
                displayMonthlyShopsForInspector(inspector);
                return;
            }
            
            // Otherwise show filtered view
            container.innerHTML = '<p style="text-align: center; color: #4CAF50; padding: 20px;">âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙØªØ´ Ù…Ø¹ Ø§Ù„ØªØ§Ø±ÙŠØ®/Ø§Ù„Ù…Ù†Ø·Ù‚Ø© - Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ù…ÙÙ„ØªØ±Ø©</p>';
        }
        
        // Display monthly shops for inspector
        function displayMonthlyShopsForInspector(inspector) {
            const container = document.getElementById('shopsDisplay');
            
            // Group shops by area
            const shopsByArea = {};
            let totalShops = 0;
            
            planData.areas.forEach(area => {
                const areaShops = planData.shops
                    .filter(shop => shop.areaId === area.id)
                    .map(shop => shop.name);
                
                if (areaShops.length > 0) {
                    shopsByArea[area.name] = areaShops;
                    totalShops += areaShops.length;
                }
            });
            
            // Build HTML
            let html = `
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="margin: 0 0 10px 0; font-size: 1.3em;">ğŸ“‹ Ø¹Ø±Ø¶ Ø´Ù‡Ø±ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ù„Ø§Øª - ${inspector}</h3>
                    <p style="margin: 0; opacity: 0.9;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­Ù„Ø§Øª: ${totalShops} Ù…Ø­Ù„ Ù…ÙˆØ²Ø¹Ø© Ø¹Ù„Ù‰ ${Object.keys(shopsByArea).length} Ù…Ù†Ø·Ù‚Ø©</p>
                    <p style="margin: 5px 0 0 0; opacity: 0.85; font-size: 0.9em;">ğŸ’¡ Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù…Ù†Ø·Ù‚Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ù…Ø­Ù„Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© ÙˆØ§Ù„ØªÙˆÙØ±</p>
                </div>
            `;
            
            // Sort areas alphabetically
            const sortedAreas = Object.keys(shopsByArea).sort();
            
            sortedAreas.forEach(areaName => {
                const shops = shopsByArea[areaName];
                
                html += `
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px; margin-bottom: 15px; border-right: 4px solid #667eea;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                            <h4 style="margin: 0; color: #2d3561; font-size: 1.1em;">ğŸ“ ${areaName}</h4>
                            <span style="background: #667eea; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.9em;">
                                ${shops.length} Ù…Ø­Ù„
                            </span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 10px;">
                `;
                
                shops.forEach(shopName => {
                    html += `
                        <div style="background: white; padding: 10px; border-radius: 8px; border-right: 3px solid #4CAF50; font-size: 0.9em;">
                            <div style="font-weight: 600; color: #2d3561;">${shopName}</div>
                        </div>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
    </script>
</body>
</html>
