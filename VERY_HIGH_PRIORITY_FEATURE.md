# ูุธุงู ุงูุฃููููุฉ ุงูุนุงููุฉ ุฌุฏุงู ูู 15 ุงูุดูุฑ
## Very High Priority System from 15th of Month

### ูุธุฑุฉ ุนุงูุฉ / Overview

ุชู ุชุทููุฑ ูุธุงู ุฌุฏูุฏ ูุชุนุฒูุฒ ุฃููููุฉ ุงููุญูุงุช ูู ุงูููู 15 ูู ูู ุดูุฑ ูุญุชู ููุงูุฉ ุงูุดูุฑุ ูุถูุงู ุชูุชูุด ุงููุญูุงุช ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ ูุจู ููุงูุฉ ุงูุดูุฑ.

A new system has been developed to boost shop priority from the 15th of each month until the end of the month, ensuring high-priority shops are inspected before month-end.

---

### ููู ูุนูู ุงููุธุงู / How It Works

#### ๐ ูู 1-14 ูู ุงูุดูุฑ (ุงููุตู ุงูุฃูู)
**ุงููุธุงู ุงููุฑู ุงูุนุงุฏู:**
- **ุฃููููุฉ ุนุงููุฉ** (High): ุงูููุงุท >= 80
- **ุฃููููุฉ ูุชูุณุทุฉ** (Medium): ุงูููุงุท >= 50
- **ุฃููููุฉ ููุฎูุถุฉ** (Low): ุงูููุงุท < 50

#### ๐ฏ ูู 15-ููุงูุฉ ุงูุดูุฑ (ุงููุตู ุงูุซุงูู)
**ุงููุธุงู ุงููุญุณูู ูุน ุงูุฃููููุฉ ุงูุนุงููุฉ ุฌุฏุงู:**
- **ุฃููููุฉ ุนุงููุฉ ุฌุฏุงู** (Very High): ุงูููุงุท >= 130
  - ุงููุญูุงุช ุงูุชู ูู ูุชู ุชูุชูุดูุง ูู ูุจู
  - ุงููุญูุงุช ุงูุชู ูุฑ ุนูู ุขุฎุฑ ุชูุชูุด ููุง ุฃูุซุฑ ูู 30 ููู
  - ูุชู ุฅุถุงูุฉ 50 ููุทุฉ ูููุญูุงุช ุฐุงุช ุงูููุงุท >= 80
- **ุฃููููุฉ ุนุงููุฉ** (High): ุงูููุงุท >= 80
  - ุงููุญูุงุช ุงูุชู ูุฑ ุนูู ุขุฎุฑ ุชูุชูุด ููุง 21-30 ููู
  - ูุชู ุฅุถุงูุฉ 20 ููุทุฉ ูููุญูุงุช ุฐุงุช ุงูููุงุท >= 50
- **ุฃููููุฉ ูุชูุณุทุฉ** (Medium): ุงูููุงุท >= 50
- **ุฃููููุฉ ููุฎูุถุฉ** (Low): ุงูููุงุท < 50

---

### ุงูุชุบููุฑุงุช ุงูุชูููุฉ / Technical Changes

#### 1. ุฏุงูุฉ ุญุณุงุจ ุงูุฃููููุฉ / Priority Calculation Function

ุชู ุชุญุฏูุซ ุฏุงูุฉ `calculateShopPriority` ูู ูู ูู:
- `smart-planner.html`
- `index.html`

**ุงูููุทู ุงูุฌุฏูุฏ:**
```javascript
// Check if we're in the second half of the month (from 15th onwards)
const targetDate = new Date(date);
const dayOfMonth = targetDate.getDate();

if (dayOfMonth >= 15) {
    // From the 15th onwards, boost high priority shops to "very high"
    if (score >= 80) {
        score += 50; // Boost very high priority shops even more
        reasons.push('ุฃููููุฉ ุงููุตู ุงูุซุงูู ูู ุงูุดูุฑ');
    } else if (score >= 50) {
        score += 20; // Moderate boost for medium priority
    }
}

// Determine priority level
let level = 'low';
if (score >= 130) level = 'very-high'; // Very high priority (from 15th onwards)
else if (score >= 80) level = 'high';
else if (score >= 50) level = 'medium';
```

#### 2. ุชุตููู CSS / CSS Styling

**ุฃููุงุท ุฌุฏูุฏุฉ ููุฃููููุฉ ุงูุนุงููุฉ ุฌุฏุงู:**
```css
.shop-card.very-high-priority {
    border-left: 5px solid #8b0000;
    background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
}

.priority-badge.very-high {
    background: #8b0000;
    color: white;
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}
```

#### 3. ุงููุตูุต / Text Labels

ุชู ุฅุถุงูุฉ ุงููุต ุงูุนุฑุจู ููุฃููููุฉ ุงูุนุงููุฉ ุฌุฏุงู:
```javascript
priorityBadge.textContent = shop.priority === 'very-high' ? 'ุฃููููุฉ ุนุงููุฉ ุฌุฏุงู' :
                            shop.priority === 'high' ? 'ุฃููููุฉ ุนุงููุฉ' : 
                            shop.priority === 'medium' ? 'ุฃููููุฉ ูุชูุณุทุฉ' : 'ุฃููููุฉ ููุฎูุถุฉ';
```

---

### ุฃูุซูุฉ / Examples

#### ูุซุงู 1: ูุญู ูู ูุชู ุชูุชูุดู ูู ูุจู
**ูุจู 15 ุงูุดูุฑ (10 ุฃูุชูุจุฑ):**
- ุงูููุงุท: 100
- ุงูุฃููููุฉ: ุนุงููุฉ

**ุจุนุฏ 15 ุงูุดูุฑ (19 ุฃูุชูุจุฑ):**
- ุงูููุงุท: 150 (100 + 50)
- ุงูุฃููููุฉ: ุนุงููุฉ ุฌุฏุงู โญ
- ุงูุณุจุจ: "ูู ูุชู ุชูุชูุดู ูู ูุจู - ุฃููููุฉ ุงููุตู ุงูุซุงูู ูู ุงูุดูุฑ"

#### ูุซุงู 2: ูุญู ุขุฎุฑ ุชูุชูุด 35 ููู
**ูุจู 15 ุงูุดูุฑ:**
- ุงูููุงุท: 80
- ุงูุฃููููุฉ: ุนุงููุฉ

**ุจุนุฏ 15 ุงูุดูุฑ:**
- ุงูููุงุท: 130 (80 + 50)
- ุงูุฃููููุฉ: ุนุงููุฉ ุฌุฏุงู โญ
- ุงูุณุจุจ: "ุขุฎุฑ ุชูุชูุด ูุจู 35 ููู - ุฃููููุฉ ุงููุตู ุงูุซุงูู ูู ุงูุดูุฑ"

#### ูุซุงู 3: ูุญู ุขุฎุฑ ุชูุชูุด 25 ููู
**ูุจู 15 ุงูุดูุฑ:**
- ุงูููุงุท: 60
- ุงูุฃููููุฉ: ูุชูุณุทุฉ

**ุจุนุฏ 15 ุงูุดูุฑ:**
- ุงูููุงุท: 80 (60 + 20)
- ุงูุฃููููุฉ: ุนุงููุฉ (ุชู ุชุฑููุชูุง ูู ูุชูุณุทุฉ)

---

### ุงูุงุฎุชุจุงุฑ / Testing

ุชู ุฅูุดุงุก ููู ุงุฎุชุจุงุฑ ุดุงูู: `test_priority_logic.py`

**ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ:**
```
โ Test 1 Passed: Never inspected on 10th = high (score: 100)
โ Test 2 Passed: Never inspected on 15th = very-high (score: 150)
โ Test 3 Passed: 35 days ago on 20th = very-high (score: 130)
โ Test 4 Passed: 14th of month (no boost) = high (score: 100)
โ Test 5 Passed: 15th of month (with boost) = very-high (score: 150)
โ Test 6 Passed: First day of new month = high (score: 100) - rotation complete
```

---

### ุงูููุงุฆุฏ / Benefits

1. โ **ุชุญุณูู ุงูุชุฎุทูุท**: ูุชู ุงูุชุฑููุฒ ุนูู ุงููุญูุงุช ุงูุฃูุซุฑ ุฃูููุฉ ูู ุงููุตู ุงูุซุงูู ูู ุงูุดูุฑ
2. โ **ุงูุดูุงููุฉ**: ูุนุฑู ุงูููุชุดูู ุจูุถูุญ ุฃู ุงููุญูุงุช ููุง ุงูุฃููููุฉ
3. โ **ุงูุฏูุฑุฉ ุงูุดูุฑูุฉ**: ูุชู ุฅุนุงุฏุฉ ุชุนููู ุงูุฃููููุงุช ูู ุจุฏุงูุฉ ูู ุดูุฑ ุฌุฏูุฏ
4. โ **ุงููุฑููุฉ**: ุงููุธุงู ุงูุฐูู ูุนูู ุจุดูู ุทุจูุนู ูู ุงููุตู ุงูุฃูู ูู ุงูุดูุฑ
5. โ **ุงูุชุฃููุฏ ุงูุจุตุฑู**: ุชุตููู ูููุฒ ุจุงูููู ุงูุฃุญูุฑ ุงูุฏุงูู ูุงูุญุฑูุฉ ุงููุงุจุถุฉ

---

### ุงููููุงุช ุงููุนุฏูุฉ / Modified Files

1. **smart-planner.html** - ุฃุฏุงุฉ ุงูุชุฎุทูุท ุงูุฐูู
2. **index.html** - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
3. **test_priority_logic.py** - ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
4. **test_very_high_priority.html** - ุตูุญุฉ ุงุฎุชุจุงุฑ ุชูุงุนููุฉ

---

### ููุทุงุช ุงูุดุงุดุฉ / Screenshots

#### ูุจู 15 ุงูุดูุฑ (ุงููุธุงู ุงูุนุงุฏู)
![Before 15th](https://github.com/user-attachments/assets/c6c9b5dd-cb17-47f9-8d10-a37826ceb04e)

#### ุจุนุฏ 15 ุงูุดูุฑ (ุงูุฃููููุฉ ุงูุนุงููุฉ ุฌุฏุงู)
![After 15th](https://github.com/user-attachments/assets/60d2d40c-e347-4d9e-9f3c-12485fb6c5af)

---

### ุงูุฎูุงุตุฉ / Summary

ุชู ุชุทุจูู ูุธุงู ุงูุฃููููุฉ ุงูุนุงููุฉ ุฌุฏุงู ุจูุฌุงุญุ ููุง ูุถูู:
- ุนุฑุถ ุงููุญูุงุช ุฐุงุช ุงูุฃููููุฉ ุงูุนุงููุฉ ุฌุฏุงู ุฃููุงู ูู 15 ูู ุดูุฑ
- ุงูุชุฑููุฒ ุนูู ุชูุชูุด ูุฐู ุงููุญูุงุช ูุจู ููุงูุฉ ุงูุดูุฑ
- ุจุฏุงูุฉ ุฏูุฑุฉ ุฌุฏูุฏุฉ ูู ุฃูู ูู ุดูุฑ
- ูุธุงู ูุฑู ูุฐูู ูุชููู ูุน ุงุญุชูุงุฌุงุช ุงูุชูุชูุด

The very high priority system has been successfully implemented, ensuring:
- Very high priority shops appear first from the 15th of each month
- Focus on inspecting these shops before month-end
- New cycle starts at the beginning of each month
- Flexible and smart system that adapts to inspection needs
