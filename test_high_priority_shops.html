<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Test High Priority Shops Feature</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Cairo', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
      direction: rtl;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }
    
    h1 {
      text-align: center;
      color: #2d3561;
      margin-bottom: 30px;
    }
    
    .test-section {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-label {
      display: block;
      font-weight: 600;
      color: #2d3561;
      margin-bottom: 8px;
    }
    
    .form-control {
      width: 100%;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-family: 'Cairo', Arial, sans-serif;
      font-size: 14px;
    }
    
    .info-box {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      border-left: 4px solid #2196f3;
    }
    
    .success-box {
      background: #e8f5e9;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      border-left: 4px solid #4caf50;
    }
    
    .result {
      background: white;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      border: 2px solid #ddd;
    }
    
    optgroup {
      font-weight: bold;
      font-size: 15px;
    }
    
    option {
      padding: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø°Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ©</h1>
    
    <div class="info-box">
      <strong>ğŸ“‹ Ø§Ù„Ù‡Ø¯Ù Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</strong>
      <p>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø­Ù„Ø§Øª ØªØ¸Ù‡Ø± Ù…ØµÙ†ÙØ© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© ÙˆØ§Ù„ØªÙˆØ§ÙØ±ØŒ ÙˆØ£Ù† Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø°Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ØªØ¸Ù‡Ø± Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù†Øª Ù…Ø­Ø¬ÙˆØ²Ø© Ø£Ùˆ ØªÙ… ØªÙØªÙŠØ´Ù‡Ø§ Ù…Ø¤Ø®Ø±Ø§Ù‹.</p>
    </div>
    
    <div class="test-section">
      <h2 style="margin-bottom: 15px;">âš™ï¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
      
      <div class="form-group">
        <label class="form-label">Ø§Ù„Ù…ÙØªØ´</label>
        <select id="testInspector" class="form-control" onchange="updateTestShops()">
          <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…ÙØªØ´ --</option>
          <option value="Ø¯. Ø¢Ù…Ù†Ù‡ Ø¨Ù† ØµØ±Ù…">Ø¯. Ø¢Ù…Ù†Ù‡ Ø¨Ù† ØµØ±Ù…</option>
          <option value="Ø¯. Ø¢ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©">Ø¯. Ø¢ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©</option>
          <option value="Ø¯. Ø­Ø³ÙŠÙ†Ø© Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ">Ø¯. Ø­Ø³ÙŠÙ†Ø© Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ</option>
          <option value="Ø¯. Ø­ØµØ© Ø§Ù„Ø¹Ù„ÙŠ">Ø¯. Ø­ØµØ© Ø§Ù„Ø¹Ù„ÙŠ</option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="form-label">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
        <input type="date" id="testDate" class="form-control" value="2025-10-20" onchange="updateTestShops()">
      </div>
      
      <div class="form-group">
        <label class="form-label">Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</label>
        <select id="testArea" class="form-control" onchange="updateTestShops()">
          <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>
          <option value="Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡">Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡</option>
          <option value="Ø§Ù„Ø­ØµÙ†">Ø§Ù„Ø­ØµÙ†</option>
          <option value="Ø´Ù…Ø§Ù„ Ø§Ù„ÙˆØ«Ø¨Ø©">Ø´Ù…Ø§Ù„ Ø§Ù„ÙˆØ«Ø¨Ø©</option>
          <option value="Ø§Ù„Ù…ØµÙØ­">Ø§Ù„Ù…ØµÙØ­</option>
        </select>
      </div>
      
      <div class="form-group">
        <label class="form-label">Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</label>
        <div class="info-box" style="margin-bottom: 10px; background: #fff3e0; border-left-color: #ff9800;">
          <small>
            <strong>Ø§Ù„ØªØµÙ†ÙŠÙ:</strong>
            <br>ğŸ”´ <strong>Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©:</strong> Ù…Ø­Ù„Ø§Øª Ù„Ù… ÙŠØªÙ… ØªÙØªÙŠØ´Ù‡Ø§ Ù…Ù†Ø° ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø©
            <br>ğŸŸ¡ğŸŸ¢ <strong>Ù…Ø­Ù„Ø§Øª Ù…ØªØ§Ø­Ø©:</strong> Ù…Ø­Ù„Ø§Øª Ù„Ù… ÙŠØªÙ… Ø­Ø¬Ø²Ù‡Ø§ Ø§Ù„ÙŠÙˆÙ… ÙˆÙ„Ù… ÙŠØªÙ… ØªÙØªÙŠØ´Ù‡Ø§ Ù…Ø¤Ø®Ø±Ø§Ù‹
          </small>
        </div>
        <select id="testShops" class="form-control" multiple size="12" disabled>
          <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹ --</option>
        </select>
      </div>
    </div>
    
    <div id="resultSection" class="result" style="display: none;">
      <h3 style="margin-bottom: 10px; color: #2d3561;">ğŸ“Š Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
      <div id="resultContent"></div>
    </div>
    
    <div class="success-box">
      <strong>âœ… Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù†Ø¬Ø§Ø­:</strong>
      <ul style="margin-top: 10px; padding-right: 20px;">
        <li>ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø°Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„</li>
        <li>ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ</li>
        <li>ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ù„Ø§Øª Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù†Øª Ù…Ø­Ø¬ÙˆØ²Ø© Ø£Ùˆ ØªÙ… ØªÙØªÙŠØ´Ù‡Ø§ Ù…Ø¤Ø®Ø±Ø§Ù‹</li>
        <li>Ø§Ù„ØªØµÙ†ÙŠÙ ÙŠØªØºÙŠØ± Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙØªØ´ Ø£Ùˆ Ø§Ù„ØªØ§Ø±ÙŠØ®</li>
      </ul>
    </div>
  </div>
  
  <script>
    // Test data
    let planData = {
      inspectionData: [
        {
          inspector: "Ø¯. Ø¢Ù…Ù†Ù‡ Ø¨Ù† ØµØ±Ù…",
          day: "2025-09-26",
          shift: "ØµØ¨Ø§Ø­ÙŠØ©",
          area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡",
          shops: ["Ù…Ø­Ù„ Ø¨ÙŠØª Ø§Ù„Ø·ÙŠÙˆØ±", "Ù…Ø­Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ù„Ù„Ø·ÙŠÙˆØ±", "Ù…Ø­Ù„ Ø§Ù„Ø³Ø­Ø± Ù„Ù„Ø·ÙŠÙˆØ±"]
        },
        {
          inspector: "Ø¯. Ø¢ÙŠÙ‡ Ø³Ù„Ø§Ù…Ø©",
          day: "2025-10-15",
          shift: "ØµØ¨Ø§Ø­ÙŠØ©",
          area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡",
          shops: ["Ù…Ø­Ù„ Ø¬Ø±ÙŠÙ† Ù„Ù†Ø¯Ø²", "Ù…Ø­Ù„ Ø¹ØµØ§ÙÙŠØ± Ø§Ù„Ø®Ù„ÙŠØ¬"]
        },
        {
          inspector: "Ø¯. Ø­Ø³ÙŠÙ†Ø© Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ",
          day: "2025-10-20",
          shift: "ØµØ¨Ø§Ø­ÙŠØ©",
          area: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡",
          shops: ["Ù…Ø­Ù„ Ø¨ÙŠØª Ø§Ù„Ø·ÙŠÙˆØ±"]
        }
      ]
    };
    
    let shopsDetails = {
      "Ù…Ø­Ù„ Ø¨ÙŠØª Ø§Ù„Ø·ÙŠÙˆØ±": { address: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø·ÙŠÙˆØ±" },
      "Ù…Ø­Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ù„Ù„Ø·ÙŠÙˆØ±": { address: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø·ÙŠÙˆØ±" },
      "Ù…Ø­Ù„ Ø§Ù„Ø³Ø­Ø± Ù„Ù„Ø·ÙŠÙˆØ±": { address: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª" },
      "Ù…Ø­Ù„ Ø¬Ø±ÙŠÙ† Ù„Ù†Ø¯Ø²": { address: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø·ÙŠÙˆØ±" },
      "Ù…Ø­Ù„ Ø¹ØµØ§ÙÙŠØ± Ø§Ù„Ø®Ù„ÙŠØ¬": { address: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø·ÙŠÙˆØ±" },
      "Ù…Ø­Ù„ Ø¬Ø±Ø§Ø­ Ù„Ù„Ø·ÙŠÙˆØ±": { address: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª" },
      "Ù…Ø­Ù„ Ù†Ø¬Ù…Ø© Ø§Ù„Ø´Ø±Ù‚ Ù„Ø£Ø³Ù…Ø§Ùƒ Ø§Ù„Ø²ÙŠÙ†Ø©": { address: "Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ù…Ø§Ùƒ" },
      "Ù…Ø­Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ«Ø¨Ø©": { address: "Ø´Ù…Ø§Ù„ Ø§Ù„ÙˆØ«Ø¨Ø©", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª" },
      "Ù…Ø­Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ØµÙØ­": { address: "Ø§Ù„Ù…ØµÙØ­", activity: "ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø·ÙŠÙˆØ±" }
    };
    
    // Helper functions (same as in admin-dashboard.html)
    function getAllShopsInArea(area) {
      const shops = new Set();
      
      if (shopsDetails) {
        Object.entries(shopsDetails).forEach(([name, details]) => {
          if (details.address === area) {
            shops.add(name);
          }
        });
      }
      
      if (planData && planData.inspectionData) {
        planData.inspectionData.forEach(inspection => {
          if (inspection.area === area && inspection.shops) {
            inspection.shops.forEach(shop => shops.add(shop));
          }
        });
      }
      
      return Array.from(shops);
    }
    
    function isShopAssignedOnDate(shop, date) {
      if (!planData || !planData.inspectionData) return false;
      
      return planData.inspectionData.some(inspection => {
        return inspection.day === date && 
               inspection.shops && 
               inspection.shops.includes(shop);
      });
    }
    
    function wasShopRecentlyInspectedByInspector(shop, inspector, date) {
      if (!planData || !planData.inspectionData || !date) return false;
      
      const targetDate = new Date(date);
      const sevenDaysAgo = new Date(targetDate);
      sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
      
      return planData.inspectionData.some(inspection => {
        if (inspection.inspector !== inspector) return false;
        if (!inspection.shops || !inspection.shops.includes(shop)) return false;
        
        const inspectionDate = new Date(inspection.day);
        return inspectionDate > sevenDaysAgo && inspectionDate < targetDate;
      });
    }
    
    function getLastInspectionDate(shop) {
      if (!planData || !planData.inspectionData) return null;
      
      let lastDate = null;
      
      planData.inspectionData.forEach(inspection => {
        if (inspection.shops && inspection.shops.includes(shop)) {
          if (!lastDate || inspection.day > lastDate) {
            lastDate = inspection.day;
          }
        }
      });
      
      return lastDate;
    }
    
    function calculateShopPriority(shop, inspector, date) {
      let score = 0;
      
      const lastInspection = getLastInspectionDate(shop);
      
      if (!lastInspection) {
        score += 100;
      } else {
        const targetDate = new Date(date || new Date());
        const lastDate = new Date(lastInspection);
        const daysSince = Math.floor((targetDate - lastDate) / (1000 * 60 * 60 * 24));
        
        if (daysSince > 30) {
          score += 80;
        } else if (daysSince > 21) {
          score += 60;
        } else if (daysSince > 14) {
          score += 40;
        } else {
          score += 20;
        }
      }
      
      if (shopsDetails && shopsDetails[shop]) {
        const activity = shopsDetails[shop].activity || '';
        if (activity.includes('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„Ù‡Ø§')) {
          score += 30;
        }
      }
      
      let level = 'low';
      if (score >= 80) level = 'high';
      else if (score >= 50) level = 'medium';
      
      return { level, score };
    }
    
    function updateTestShops() {
      const areaSelect = document.getElementById('testArea');
      const shopsSelect = document.getElementById('testShops');
      const inspectorSelect = document.getElementById('testInspector');
      const dateInput = document.getElementById('testDate');
      const resultSection = document.getElementById('resultSection');
      const resultContent = document.getElementById('resultContent');
      
      const selectedArea = areaSelect.value;
      const inspector = inspectorSelect.value;
      const date = dateInput.value;
      
      if (!selectedArea) {
        shopsSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹ --</option>';
        shopsSelect.disabled = true;
        resultSection.style.display = 'none';
        return;
      }
      
      const allShopsInArea = getAllShopsInArea(selectedArea);
      
      if (allShopsInArea.length === 0) {
        shopsSelect.innerHTML = '<option value="">-- Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ù„Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>';
        shopsSelect.disabled = true;
        resultSection.style.display = 'none';
        return;
      }
      
      const availableShops = [];
      const highPriorityShops = [];
      const otherShops = [];
      
      allShopsInArea.forEach(shop => {
        const priority = calculateShopPriority(shop, inspector, date);
        const assignedToday = date ? isShopAssignedOnDate(shop, date) : false;
        const recentlyInspected = inspector && date ? wasShopRecentlyInspectedByInspector(shop, inspector, date) : false;
        
        const shopInfo = {
          name: shop,
          priority: priority.level,
          score: priority.score,
          assignedToday,
          recentlyInspected
        };
        
        if (!assignedToday && !recentlyInspected) {
          if (priority.level === 'high') {
            highPriorityShops.push(shopInfo);
          } else {
            availableShops.push(shopInfo);
          }
        } else {
          if (priority.level === 'high') {
            highPriorityShops.push(shopInfo);
          } else {
            otherShops.push(shopInfo);
          }
        }
      });
      
      const sortByScore = (a, b) => b.score - a.score;
      highPriorityShops.sort(sortByScore);
      availableShops.sort(sortByScore);
      otherShops.sort(sortByScore);
      
      let options = '';
      
      if (highPriorityShops.length > 0) {
        options += '<optgroup label="â”â”â” Ù…Ø­Ù„Ø§Øª Ø°Ø§Øª Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ© â”â”â”">';
        highPriorityShops.forEach(shop => {
          const status = shop.assignedToday ? ' [Ù…Ø­Ø¬ÙˆØ² Ø§Ù„ÙŠÙˆÙ…]' : 
                        shop.recentlyInspected ? ' [ØªÙ… Ø§Ù„ØªÙØªÙŠØ´ Ù…Ø¤Ø®Ø±Ø§Ù‹]' : 
                        ' [Ù…ØªØ§Ø­]';
          options += `<option value="${shop.name}" style="background-color: #ffe6e6;">ğŸ”´ ${shop.name}${status}</option>`;
        });
        options += '</optgroup>';
      }
      
      if (availableShops.length > 0) {
        options += '<optgroup label="â”â”â” Ù…Ø­Ù„Ø§Øª Ù…ØªØ§Ø­Ø© â”â”â”">';
        availableShops.forEach(shop => {
          const priorityIcon = shop.priority === 'medium' ? 'ğŸŸ¡' : 'ğŸŸ¢';
          options += `<option value="${shop.name}">${priorityIcon} ${shop.name} [Ù…ØªØ§Ø­]</option>`;
        });
        options += '</optgroup>';
      }
      
      if (otherShops.length > 0) {
        options += '<optgroup label="â”â”â” Ù…Ø­Ù„Ø§Øª Ø£Ø®Ø±Ù‰ â”â”â”">';
        otherShops.forEach(shop => {
          const status = shop.assignedToday ? ' [Ù…Ø­Ø¬ÙˆØ² Ø§Ù„ÙŠÙˆÙ…]' : 
                        shop.recentlyInspected ? ' [ØªÙ… Ø§Ù„ØªÙØªÙŠØ´ Ù…Ø¤Ø®Ø±Ø§Ù‹]' : '';
          options += `<option value="${shop.name}" style="color: #999;">${shop.name}${status}</option>`;
        });
        options += '</optgroup>';
      }
      
      if (options === '') {
        shopsSelect.innerHTML = '<option value="">-- Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ù„Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>';
        shopsSelect.disabled = true;
        resultSection.style.display = 'none';
        return;
      }
      
      shopsSelect.innerHTML = options;
      shopsSelect.disabled = false;
      
      // Display results
      resultSection.style.display = 'block';
      resultContent.innerHTML = `
        <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­Ù„Ø§Øª:</strong> ${allShopsInArea.length}</p>
        <p><strong>Ù…Ø­Ù„Ø§Øª Ø°Ø§Øª Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©:</strong> ${highPriorityShops.length}</p>
        <p><strong>Ù…Ø­Ù„Ø§Øª Ù…ØªØ§Ø­Ø©:</strong> ${availableShops.length}</p>
        <p><strong>Ù…Ø­Ù„Ø§Øª Ø£Ø®Ø±Ù‰:</strong> ${otherShops.length}</p>
        <hr style="margin: 10px 0; border: none; border-top: 1px solid #ddd;">
        <p style="color: #4caf50;"><strong>âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ù„Ø§Øª ØªØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ù…ØµÙ†ÙØ© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©!</p>
      `;
    }
  </script>
</body>
</html>
