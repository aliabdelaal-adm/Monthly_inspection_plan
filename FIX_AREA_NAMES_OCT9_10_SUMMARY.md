# ุฅุตูุงุญ ุฃุณูุงุก ุงูููุงุทู ูู ุชูุงุฑูุฑ ุงูููุชุดูู ููููู 9 ู 10 ุฃูุชูุจุฑ
# Fix Area Names in Inspector Reports for October 9 and 10

## ๐ฏ ุงููุดููุฉ / Issue

ูู ุชูุฑูุฑ ุงูููุชุดุ ูุชุญุฏูุฏุงู ูู ูุณู "ุชุบุทูุฉ ุงูููุงุทู"ุ ุธูุฑุช ุฃุณูุงุก ุงูููุงุทู ูุฃูุงู 9 ู 10 ุฃูุชูุจุฑ ุนูู ุดูู ูุนุฑูุงุช (IDs) ูุซู:
- `area_1758831413471`
- `area_1758839345230`
- `area_1758831340793`

In the inspector report, specifically in the "Area Coverage" section, area names for October 9 and 10 appeared as IDs like:
- `area_1758831413471`
- `area_1758839345230`
- `area_1758831340793`

## ๐ ุงูุณุจุจ ุงูุฌุฐุฑู / Root Cause

ูุงูุช ุจูุงูุงุช ุงูุชูุชูุด ููููู 9 ู 10 ุฃูุชูุจุฑ ุชุญุชูู ุนูู **ูุนุฑูุงุช ุงูููุงุทู** (area IDs) ุจุฏูุงู ูู **ุฃุณูุงุก ุงูููุงุทู** ูู ุญูู `area`.

The inspection data for October 9 and 10 contained **area IDs** instead of **area names** in the `area` field.

### ูุซุงู / Example:
```json
{
  "inspector": "ุฏ. ุขููู ุจู ุตุฑู",
  "day": "2025-10-09",
  "area": "area_1758831413471",  // โ ูุนุฑู ุจุฏูุงู ูู ุงูุงุณู / ID instead of name
  "shift": "ุตุจุงุญูุฉ"
}
```

ูุฌุจ ุฃู ูููู / Should be:
```json
{
  "inspector": "ุฏ. ุขููู ุจู ุตุฑู",
  "day": "2025-10-09",
  "area": "ูุญูุฏ ุจู ุฒุงูุฏ",  // โ ุงูุงุณู ุงูุตุญูุญ / Correct name
  "shift": "ุตุจุงุญูุฉ"
}
```

## โ ุงูุญู / Solution

ุชู ุฅูุดุงุก ุณูุฑูุจุช Python (`fix_area_names_oct9_10.py`) ูุฅุตูุงุญ ุงููุดููุฉ:

A Python script (`fix_area_names_oct9_10.py`) was created to fix the issue:

1. **ูุญูู ุจูุงูุงุช ุงูููุงุทู** ูู `plan-data.json`
   - Loads area data from `plan-data.json`

2. **ููุดุฆ ุฎุฑูุทุฉ ุชุญููู** ูู ูุนุฑู ุงูููุทูุฉ ุฅูู ุงุณู ุงูููุทูุฉ
   - Creates a mapping from area ID to area name

3. **ููุญุต ุฌููุน ุงูุชูุชูุดุงุช** ููุณุชุจุฏู ุงููุนุฑูุงุช ุจุงูุฃุณูุงุก
   - Scans all inspections and replaces IDs with names

4. **ูุญูุธ ูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูุจู ุงูุชุนุฏูู
   - Creates a backup before making changes

## ๐ ุงููุชุงุฆุฌ / Results

ุชู ุฅุตูุงุญ **14 ุชูุชูุด** ุจูุฌุงุญ:

Successfully fixed **14 inspections**:

### ููู 9 ุฃูุชูุจุฑ / October 9 (8 ุชูุชูุดุงุช / inspections):
| ุงูููุชุด / Inspector | ุงูููุทูุฉ (ูุจู) / Area (Before) | ุงูููุทูุฉ (ุจุนุฏ) / Area (After) | ุงููุชุฑุฉ / Shift |
|-------------------|-------------------------------|------------------------------|----------------|
| ุฏ. ุขููู ุจู ุตุฑู | area_1758831413471 | ูุญูุฏ ุจู ุฒุงูุฏ | ุตุจุงุญูุฉ |
| ุฏ. ุญุตุฉ ุงูุนูู | area_1758831448230 | ุงููุตูุญ | ุตุจุงุญูุฉ |
| ุฏ. ุขูู ุณูุงูุฉ | area_1758831500163 | ูุฏููุฉ ุฎูููุฉ | ุตุจุงุญูุฉ |
| ุฏ. ุญุณููุฉ ุงูุนุงูุฑู | area_1758839353326 | ุณูู ุงูุชุฑุงุซ | ุตุจุงุญูุฉ |
| ุฏ. ูุงูุฒ ุงููุณุงููุฉ | area_1758839345230 | ุณูู ุงููููุงุก | ุตุจุงุญูุฉ |
| ุฏ. ูุญูุฏ ุณุนูุฏ | area_1758831528008 | ุงููุซุจุฉ ุฌููุจ | ูุณุงุฆูุฉ |
| ุฏ. ุนูู ุนุจุฏุงูุนุงู | area_1759754614634 | ุงููุดุฑู | ูุณุงุฆูุฉ |
| ุฏ. ูุญูุฏ ุฅุณูุงุนูู | area_1758839345230 | ุณูู ุงููููุงุก | ูุณุงุฆูุฉ |

### ููู 10 ุฃูุชูุจุฑ / October 10 (6 ุชูุชูุดุงุช / inspections):
| ุงูููุชุด / Inspector | ุงูููุทูุฉ (ูุจู) / Area (Before) | ุงูููุทูุฉ (ุจุนุฏ) / Area (After) | ุงููุชุฑุฉ / Shift |
|-------------------|-------------------------------|------------------------------|----------------|
| ุฏ. ุขููู ุจู ุตุฑู | area_1758831360486 | ุงูุฎุงูุฏูุฉ | ุตุจุงุญูุฉ |
| ุฏ. ุญุณููุฉ ุงูุนุงูุฑู | area_1758839345230 | ุณูู ุงููููุงุก | ุตุจุงุญูุฉ |
| ุฏ. ุญุตุฉ ุงูุนูู | area_1758831340793 | ุงูุญุตู | ุตุจุงุญูุฉ |
| ุฏ. ุนูู ุนุจุฏุงูุนุงู | area_1758913423620 | ุขู ูููุงู | ุตุจุงุญูุฉ |
| ุฏ. ูุญูุฏ ุณุนูุฏ | area_1758839353326 | ุณูู ุงูุชุฑุงุซ | ูุณุงุฆูุฉ |
| ุฏ. ูุญูุฏ ุฅุณูุงุนูู | area_1758831328093 | ุงูุฏุงูุฉ | ูุณุงุฆูุฉ |

## ๐ง ุงููููุงุช ุงููุนุฏูุฉ / Files Modified

1. **plan-data.json** - ุชุญุฏูุซ ุจูุงูุงุช ุงูุชูุชูุด / Updated inspection data
2. **fix_area_names_oct9_10.py** - ุณูุฑูุจุช ุงูุฅุตูุงุญ / Fix script (ุฌุฏูุฏ / new)
3. **FIX_AREA_NAMES_OCT9_10_SUMMARY.md** - ูุฐุง ุงูููู / This file (ุฌุฏูุฏ / new)

## ๐ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ / Backup

ุชู ุญูุธ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู `plan-data.json` ูุจู ุงูุชุนุฏูู:
- `plan-data.json.backup_20251009_075352`

A backup of `plan-data.json` was saved before modification:
- `plan-data.json.backup_20251009_075352`

## โ ุงูุชุญูู / Verification

```bash
# ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ูุนุฑูุงุช ูุชุจููุฉ
# Verify no remaining IDs
python3 -c "
import json
with open('plan-data.json', 'r', encoding='utf-8') as f:
    data = json.load(f)
issues = [i for i in data['inspectionData'] if i['area'].startswith('area_') and i['area'][5:].replace('_','').isdigit()]
print(f'Remaining issues: {len(issues)}')
"
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ / Expected output:** `Remaining issues: 0`

## ๐ ููุงุญุธุงุช / Notes

- ูุฐู ุงููุดููุฉ ูุดุงุจูุฉ ูููุดููุฉ ุงูุชู ุชู ุญููุง ูู PR #311
- This issue is similar to the one fixed in PR #311

- ุงูุณุจุจ: ุชู ุงุณุชุฎุฏุงู ูุนุฑูุงุช ุงูููุงุทู ุจุฏูุงู ูู ุงูุฃุณูุงุก ุนูุฏ ุฅุถุงูุฉ ุงูุชูุชูุดุงุช
- Cause: Area IDs were used instead of names when adding inspections

- ุงูุญู ูุตูุญ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ููุท. ุงูููุฏ ุงูููุฌูุฏ ูู `index.html` (PR #311) ูููุน ุญุฏูุซ ูุฐู ุงููุดููุฉ ูู ุงููุณุชูุจู
- This fix addresses existing data. The code in `index.html` (PR #311) prevents this issue in the future

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ / Final Result

โ ุชูุงุฑูุฑ ุงูููุชุดูู ุงูุขู ุชุนุฑุถ **ุฃุณูุงุก ุงูููุงุทู ุงูุนุฑุจูุฉ ุงูุตุญูุญุฉ** ุจุฏูุงู ูู ุงููุนุฑูุงุช  
โ Inspector reports now display **correct Arabic area names** instead of IDs

ุงูุขู ูู ูุณู "ุชุบุทูุฉ ุงูููุงุทู":
- โ ูุญูุฏ ุจู ุฒุงูุฏ
- โ ุณูู ุงููููุงุก
- โ ุงูุฎุงูุฏูุฉ
- โ ~~area_1758831413471~~
- โ ~~area_1758839345230~~

Now in the "Area Coverage" section, proper names are displayed!

---

**ุงูุชุงุฑูุฎ / Date:** 2025-10-09  
**ุงููุทูุฑ / Developer:** GitHub Copilot  
**ุงูุฅุตุฏุงุฑ / Version:** 1.0
