# ุฅุตูุงุญ ูุดููุฉ ุฅุฏุงุฑุฉ ุงููููุงุช ูู admin.html

## ๐ ุงููุดููุฉ ุงูุฃุตููุฉ

**ุงููุตู:** "ูุงูููู ุชุญุฑูุฑ ูุชุนุฏูู ุงู ุญุฐู ุงููุซุงุฆู ุงููุญููุฉ ูู ููุชุจุฉ ุงููููุงุช ููุงูููู ุฑูุน ููู ุฌุฏูุฏ"

### ุชุญููู ุงููุดููุฉ:
- โ ูุง ููุฌุฏ ุฒุฑ ุฃู ูุธููุฉ ูุชุนุฏูู ูุตู ุงููููุงุช ุงููุฑููุนุฉ ูู admin.html
- โ ูุธููุฉ ุงูุญุฐู ููุฌูุฏุฉ ูููู ุชุญุชุงุฌ ููุชุฃูุฏ ูู ุนูููุง
- โ ูุธููุฉ ุฑูุน ุงููููุงุช ููุฌูุฏุฉ ูุณุจูุงู

---

## โ ุงูุญู ุงููููุฐ

### 1. ุฅุถุงูุฉ ุฒุฑ ุงูุชุนุฏูู
ุชู ุฅุถุงูุฉ ุฒุฑ "ุชุนุฏูู" ุจุฌุงูุจ ูู ููู ูู ูุงุฆูุฉ ุงููููุงุช ุงููุฑููุนุฉ.

**ุงููููุน:** admin.html (ุงูุณุทุฑ ~566-572)

**ูุจู:**
```html
<button onclick="downloadFile('${file.path}')">ุชุญููู</button>
<button onclick="deleteFile('${file.id}', '${file.path}', '${file.name}')">ุญุฐู</button>
```

**ุจุนุฏ:**
```html
<button onclick="downloadFile('${file.path}')">ุชุญููู</button>
<button onclick="editFile('${file.id}', '${escapeQuotes(file.name)}', '${escapeQuotes(file.description)}', '${file.category}')">ุชุนุฏูู</button>
<button onclick="deleteFile('${file.id}', '${file.path}', '${escapeQuotes(file.name)}')">ุญุฐู</button>
```

### 2. ุฅุถุงูุฉ ุฏุงูุฉ escapeQuotes
ุฏุงูุฉ ูุณุงุนุฏุฉ ููุนุงูุฌุฉ ุงููุตูุต ุงูุชู ุชุญุชูู ุนูู ุนูุงูุงุช ุงูุชุจุงุณ.

**ุงููููุน:** admin.html (ุงูุณุทุฑ ~512)

```javascript
function escapeQuotes(str) {
  return str.replace(/'/g, "\\'").replace(/"/g, '\\"');
}
```

### 3. ุฅุถุงูุฉ ุฏุงูุฉ editFile
ุฏุงูุฉ ูุงููุฉ ูุชุญุฑูุฑ ูุตู ุงููููุงุช.

**ุงููููุน:** admin.html (ุงูุณุทุฑ ~676-741)

```javascript
async function editFile(fileId, fileName, currentDescription, category) {
  // 1. ุทูุจ ูุตู ุฌุฏูุฏ ูู ุงููุณุชุฎุฏู
  const newDescription = prompt('ุชุญุฑูุฑ ูุตู ุงูููู:\n\nุงุณู ุงูููู: ' + fileName, currentDescription);
  
  if (newDescription === null) {
    return; // ุงููุณุชุฎุฏู ุฃูุบู
  }
  
  // 2. ุงูุชุญูู ูู ุงูุชููู
  const token = getToken();
  if (!token) { 
    document.getElementById("fileStatus").textContent = "โ ูุฑุฌู ุฅุฏุฎุงู GitHub Token ุฃููุงู";
    showTokenPopup(); 
    return; 
  }
  
  try {
    document.getElementById("fileStatus").textContent = "โณ ุฌุงุฑู ุชุญุฏูุซ ุงูููู...";
    
    // 3. ุชุญููู ููู files.json ุงูุญุงูู
    const res = await fetch(`https://api.github.com/repos/${repo}/contents/files.json`, {
      headers: {
        "Authorization": `Bearer ${token}`,
        "Content-Type": "application/json"
      }
    });
    
    if (res.ok) {
      const file = await res.json();
      const filesData = JSON.parse(decodeURIComponent(escape(atob(file.content))));
      
      // 4. ุชุญุฏูุซ ูุตู ุงูููู
      const fileIndex = filesData.files.findIndex(f => f.id === fileId);
      if (fileIndex !== -1) {
        filesData.files[fileIndex].description = newDescription;
        filesData.lastUpdate = new Date().toISOString();
        
        // 5. ุญูุธ ููู files.json ุงููุญุฏุซ
        const content = btoa(unescape(encodeURIComponent(JSON.stringify(filesData, null, 2))));
        const updateRes = await fetch(`https://api.github.com/repos/${repo}/contents/files.json`, {
          method: "PUT",
          headers: {
            "Authorization": `Bearer ${token}`,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            message: `ุชุญุฏูุซ ูุตู ุงูููู: ${fileName}`,
            content: content,
            sha: file.sha
          })
        });
        
        if (updateRes.ok) {
          document.getElementById("fileStatus").textContent = "โ ุชู ุชุญุฏูุซ ุงูููู ุจูุฌุงุญ";
          // 6. ุชุญุฏูุซ ูุงุฆูุฉ ุงููููุงุช
          setTimeout(() => loadFilesList(), 1000);
        } else {
          document.getElementById("fileStatus").textContent = "โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู";
        }
      } else {
        document.getElementById("fileStatus").textContent = "โ ุงูููู ุบูุฑ ููุฌูุฏ";
      }
    } else {
      document.getElementById("fileStatus").textContent = "โ ุฎุทุฃ ูู ุชุญููู ุจูุงูุงุช ุงูููู";
    }
  } catch (error) {
    document.getElementById("fileStatus").textContent = "โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูููู: " + error.message;
  }
}
```

---

## ๐ ููุงุฑูุฉ ูุจู ูุจุนุฏ

### ูุจู ุงูุชุญุฏูุซ:
| ุงูููุฒุฉ | ุงูุญุงูุฉ |
|--------|---------|
| ุฑูุน ูููุงุช ุฌุฏูุฏุฉ | โ ููุฌูุฏ |
| ุชุญููู ุงููููุงุช | โ ููุฌูุฏ |
| ุญุฐู ุงููููุงุช | โ ููุฌูุฏ |
| **ุชุนุฏูู ูุตู ุงููููุงุช** | โ **ุบูุฑ ููุฌูุฏ** |

### ุจุนุฏ ุงูุชุญุฏูุซ:
| ุงูููุฒุฉ | ุงูุญุงูุฉ |
|--------|---------|
| ุฑูุน ูููุงุช ุฌุฏูุฏุฉ | โ ููุฌูุฏ |
| ุชุญููู ุงููููุงุช | โ ููุฌูุฏ |
| ุญุฐู ุงููููุงุช | โ ููุฌูุฏ |
| **ุชุนุฏูู ูุตู ุงููููุงุช** | โ **ุชู ุงูุฅุถุงูุฉ!** |

---

## ๐ง ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### ุงููููุงุช ุงููุนุฏูุฉ:
- **admin.html**: +73 ุณุทุฑ

### ุงูุฏูุงู ุงููุถุงูุฉ:
1. `escapeQuotes(str)` - ูุนุงูุฌุฉ ุนูุงูุงุช ุงูุงูุชุจุงุณ
2. `editFile(fileId, fileName, currentDescription, category)` - ุชุญุฑูุฑ ูุตู ุงูููู

### ุงูุฃุฒุฑุงุฑ ุงููุนุฏูุฉ:
- ุชู ุฅุถุงูุฉ ุฒุฑ "ุชุนุฏูู" ุจูู ุฒุฑ "ุชุญููู" ู"ุญุฐู" ูู ูุงุฆูุฉ ุงููููุงุช

---

## ๐ฑ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุฎุทูุงุช ุชุญุฑูุฑ ููู:

1. **ุงูุชุญ ุตูุญุฉ admin.html**
   ```
   https://aliabdelaal-adm.github.io/Monthly_inspection_plan/admin.html
   ```

2. **ุฃุฏุฎู GitHub Token**
   - ุงููุฑ ุนูู "ุชุบููุฑ ุงูุชููู" ุฃู ุงุณุชุฎุฏู ุงูุชููู ุงูุงูุชุฑุงุถู

3. **ุนุฑุถ ูุงุฆูุฉ ุงููููุงุช**
   - ุงููุฑ ุนูู ุฒุฑ "ุชุญุฏูุซ ูุงุฆูุฉ ุงููููุงุช"

4. **ุชุญุฑูุฑ ููู**
   - ุงููุฑ ุนูู ุฒุฑ "ุชุนุฏูู" ุจุฌุงูุจ ุงูููู ุงููุฑุงุฏ ุชุญุฑูุฑู
   - ุณูุธูุฑ ูุฑุจุน ุญูุงุฑ ูุชุนุฏูู ูุตู ุงูููู
   - ุฃุฏุฎู ุงููุตู ุงูุฌุฏูุฏ
   - ุงููุฑ "ููุงูู"

5. **ุงูุชุญูู ูู ุงูุชุญุฏูุซ**
   - ุณูุธูุฑ ุฑุณุงูุฉ "โ ุชู ุชุญุฏูุซ ุงูููู ุจูุฌุงุญ"
   - ูุชู ุชุญุฏูุซ ูุงุฆูุฉ ุงููููุงุช ุชููุงุฆูุงู

---

## ๐ฏ ุงูููุฒุงุช ุงููุชุงุญุฉ ุงูุขู

### ูู admin.html:

1. **๐ค ุฑูุน ูููุงุช ุฌุฏูุฏุฉ**
   - ุงุฎุชูุงุฑ ุงูููู ูู ุงูุฌูุงุฒ
   - ุงุฎุชูุงุฑ ุงูุชุตููู (ูุซุงุฆูุ ุชูุงุฑูุฑุ ุฌุฏุงููุ ููุงุฑุฏ)
   - ุฅุถุงูุฉ ูุตู ุงุฎุชูุงุฑู
   - ุฑูุน ุงูููู ุฅูู GitHub

2. **๐ฅ ุชุญููู ุงููููุงุช**
   - ุชุญููู ุฃู ููู ูุฑููุน ุฅูู ุงูุฌูุงุฒ

3. **โ๏ธ ุชุนุฏูู ูุตู ุงููููุงุช** (ุฌุฏูุฏ!)
   - ุชุญุฑูุฑ ูุตู ุงูููู ูู ุฃู ููุช
   - ุงูุชุญุฏูุซ ูุชู ุนูู GitHub ูุจุงุดุฑุฉ

4. **๐๏ธ ุญุฐู ุงููููุงุช**
   - ุญุฐู ุงูููู ูู GitHub
   - ุชุญุฏูุซ ุณุฌู ุงููููุงุช ุชููุงุฆูุงู

---

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจุงููุงูู:

- โ ูููู ุงูุขู **ุชุญุฑูุฑ ูุชุนุฏูู** ูุตู ุงููููุงุช
- โ ูููู **ุญุฐู** ุงููููุงุช (ูุงู ููุฌูุฏุงู ูุณุจูุงู)
- โ ูููู **ุฑูุน ูููุงุช ุฌุฏูุฏุฉ** (ูุงู ููุฌูุฏุงู ูุณุจูุงู)

### ุงูุฅุถุงูุงุช:
- โ ุฒุฑ "ุชุนุฏูู" ุฌุฏูุฏ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ ุฏุงูุฉ `editFile` ูุงููุฉ ุงููุธุงุฆู
- โ ุฏุงูุฉ `escapeQuotes` ููุญูุงูุฉ ูู ุฃุฎุทุงุก JavaScript
- โ ุฑุณุงุฆู ุญุงูุฉ ูุงุถุญุฉ ูููุณุชุฎุฏู
- โ ุชุญุฏูุซ ุชููุงุฆู ููุงุฆูุฉ ุงููููุงุช ุจุนุฏ ุงูุชุนุฏูู

---

## ๐ ุงูุฃูุงู

- ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุชููู ูุจู ุฃู ุนูููุฉ
- ูุนุงูุฌุฉ ุขููุฉ ูููุตูุต ุงูุชู ุชุญุชูู ุนูู ุนูุงูุงุช ุงูุชุจุงุณ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูู ุญุงูุฉ ูุดู ุงูุนูููุฉ
- ุงูุชุฃููุฏ ูุจู ุงูุญุฐู (ููุฌูุฏ ูุณุจูุงู)

---

## ๐ ููุงุญุธุงุช

1. **ูุตู ุงูููู ููุท:** ุงูุฏุงูุฉ ุงูุญุงููุฉ ุชุณูุญ ุจุชุนุฏูู ูุตู ุงูููู ููุทุ ูููุณ ุงูููู ููุณู ุฃู ุงุณูู.
2. **GitHub API:** ุฌููุน ุงูุนูููุงุช ุชุชู ุนุจุฑ GitHub API ูุจุงุดุฑุฉ.
3. **ุงูุชููู:** ูุฌุจ ุฃู ูููู ููุชููู ุตูุงุญูุฉ `repo` ููููุงู ุจุงูุนูููุงุช.

---

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู (ุงุฎุชูุงุฑู)

ุฃููุงุฑ ููุชุญุณูู ุงููุณุชูุจูู:
- ุฅุถุงูุฉ ุฅููุงููุฉ ุชุนุฏูู ุชุตููู ุงูููู
- ุฅุถุงูุฉ ุฅููุงููุฉ ุฅุนุงุฏุฉ ุชุณููุฉ ุงูููู
- ุฅุถุงูุฉ ูุงูุฐุฉ ููุจุซูุฉ ุฃูุซุฑ ุชุทูุฑุงู ุจุฏูุงู ูู `prompt`
- ุฅุถุงูุฉ ุณุญุจ ูุฅููุงุช ูููููุงุช

---

**ุงูุชุงุฑูุฎ:** 2025
**ุงููุทูุฑ:** GitHub Copilot Agent
**ุงูุญุงูุฉ:** โ ููุชูู ููุฎุชุจุฑ
