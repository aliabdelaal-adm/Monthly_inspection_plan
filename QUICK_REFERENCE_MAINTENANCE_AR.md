# دليل سريع: وضع الصيانة المتزامن
# Quick Reference: Synchronized Maintenance Mode

## 🚀 البدء السريع - Quick Start

### للمطور - For Developer

#### تفعيل وضع الصيانة:
```
1. افتح index.html
2. سجل دخول كمطور
3. انقر "🔒 تفعيل وضع الصيانة للجميع"
4. ✅ سترى رسالة: "تم تفعيل وضع الصيانة للجميع"
5. ⏰ خلال 10-30 ثانية، ستظهر الرسالة على جميع الأجهزة
```

#### إلغاء وضع الصيانة:
```
1. انقر "✅ إلغاء وضع الصيانة للجميع"
2. ✅ سترى رسالة: "تم إلغاء وضع الصيانة للجميع"
3. ⏰ خلال 10-30 ثانية، ستختفي الرسالة من جميع الأجهزة
```

### للمفتشين - For Inspectors

#### عند تفعيل وضع الصيانة:
```
- ⏰ خلال 10-30 ثانية، ستظهر رسالة الصيانة تلقائياً
- 🔒 لن تستطيع إغلاق الرسالة
- ⌛ انتظر حتى يقوم المطور بإلغاء وضع الصيانة
```

#### الرسالة التي ستراها:
```
┌─────────────────────────────────┐
│     🛡️ الزملاء الأعزاء        │
│    جاري التحديث الآن            │
│     شكراً على الانتظار          │
│                                 │
│ تفاصيل التحديث:                │
│ • جاري تحديث النظام             │
│ • يقوم المطور بإجراء تعديلات    │
│ • شكراً على الانتظار            │
└─────────────────────────────────┘
```

## 🧪 الاختبار - Testing

### صفحة الاختبار:
```
افتح: test_github_maintenance.html

في متصفح 1:
1. انقر "👨‍💻 تبديل وضع المطور"
2. انقر "🔒 تفعيل وضع الصيانة"

في متصفح 2:
1. انتظر 10-30 ثانية أو انقر "🔄 تحديث الحالة"
2. يجب أن ترى "🔒 وضع الصيانة مفعّل"
```

## ⚙️ الإعدادات - Settings

### فترة الفحص التلقائي:
```javascript
// في index.html، السطر ~4900
setInterval(async () => {
    await checkMaintenanceMode();
}, 10000); // 10 ثوان (يمكن تغييره)
```

### رسائل الصيانة المخصصة:
```javascript
// في index.html، وظيفة enableMaintenanceModeForAll
const messages = [
    'جاري تحديث النظام',
    'يقوم المطور بإجراء تعديلات',
    'شكراً على الانتظار'
];
```

## 🔍 استكشاف الأخطاء - Troubleshooting

### الرسالة لا تظهر؟

#### 1. تحقق من الاتصال بالإنترنت:
```javascript
// افتح Console (F12) واكتب:
navigator.onLine
// يجب أن يكون: true
```

#### 2. تحقق من GitHub:
```
افتح في المتصفح:
https://raw.githubusercontent.com/aliabdelaal-adm/Monthly_inspection_plan/main/maintenance-status.json

يجب أن ترى:
{
  "isMaintenanceMode": true,
  ...
}
```

#### 3. تحقق من Console:
```javascript
// يجب أن ترى كل 10 ثوان:
🔄 فحص تلقائي للحالة...
📥 جاري تحميل حالة الصيانة من GitHub...
```

#### 4. فرض التحديث:
```javascript
// في Console:
await checkMaintenanceMode()
// أو
location.reload() // إعادة تحميل الصفحة
```

## 📊 الحالات والأخطاء - States & Errors

### الحالات الطبيعية:
```
✅ "تم تفعيل وضع الصيانة للجميع"
✅ "تم إلغاء وضع الصيانة للجميع"
✅ "Maintenance mode enabled for all users on all devices"
✅ "Maintenance mode disabled for all users on all devices"
```

### التحذيرات:
```
⚠️ "تم تفعيل وضع الصيانة محلياً فقط"
⚠️ "قد لا يظهر للمستخدمين على الأجهزة الأخرى"
```

### الأخطاء:
```
❌ "لا يوجد توكن GitHub"
❌ "فشل في حفظ الملف"
❌ "خطأ في تحميل حالة الصيانة"
```

## 🎯 نصائح سريعة - Quick Tips

### ✅ افعل:
- ✓ تحقق من اتصال الإنترنت قبل التفعيل
- ✓ انتظر 10-30 ثانية قبل التحقق من الأجهزة الأخرى
- ✓ استخدم صفحة الاختبار للتجربة أولاً
- ✓ تحقق من Console للتأكد من عدم وجود أخطاء

### ❌ لا تفعل:
- ✗ لا تغلق المتصفح فوراً بعد التفعيل
- ✗ لا تفترض أن الرسالة ستظهر فوراً
- ✗ لا تقوم بتعديل maintenance-status.json يدوياً
- ✗ لا تعطل الفحص التلقائي

## 📱 التوافق - Compatibility

### المتصفحات المدعومة:
- ✅ Chrome / Edge (الأحدث)
- ✅ Firefox (الأحدث)
- ✅ Safari (الأحدث)
- ✅ Opera (الأحدث)

### الأجهزة المدعومة:
- ✅ الكمبيوتر المكتبي
- ✅ الأجهزة اللوحية
- ✅ الهواتف الذكية

### المتطلبات:
- ✅ اتصال بالإنترنت
- ✅ JavaScript مفعّل
- ✅ localStorage مفعّل

## 🔗 روابط سريعة - Quick Links

### الوثائق:
- **MAINTENANCE_MODE_SYNC_FIX.md** - الوثائق الكاملة
- **VISUAL_SUMMARY_MAINTENANCE_SYNC.md** - الملخص المرئي
- **MAINTENANCE_MODE_FEATURE.md** - الوثائق الأصلية

### الاختبار:
- **test_github_maintenance.html** - صفحة الاختبار
- **index.html** - النظام الفعلي

### الملفات:
- **maintenance-status.json** - حالة الصيانة
- **index.html** (الأسطر 4830-4950) - الكود الرئيسي

## 📞 الدعم - Support

### إذا واجهت مشكلة:
1. راجع قسم "استكشاف الأخطاء" أعلاه
2. تحقق من Console (F12) للبحث عن أخطاء
3. راجع الوثائق الكاملة في MAINTENANCE_MODE_SYNC_FIX.md
4. تأكد من تحديث الصفحة (Ctrl+Shift+R)

### معلومات التواصل:
- **المطور**: د. علي عبدالعال
- **البريد الإلكتروني**: [يمكن إضافته هنا]
- **المستودع**: https://github.com/aliabdelaal-adm/Monthly_inspection_plan

## 📅 تاريخ التحديثات - Update History

### الإصدار 2.0 (يناير 2025)
- ✅ إضافة التزامن عبر GitHub
- ✅ الفحص التلقائي كل 10 ثوان
- ✅ عرض الرسالة على جميع الأجهزة
- ✅ وثائق شاملة بالعربية

### الإصدار 1.0 (السابق)
- ✗ تخزين محلي فقط (localStorage)
- ✗ لا يوجد تزامن

---

**تم التطوير بواسطة © المطور د. علي عبدالعال**

**آخر تحديث**: يناير 2025  
**الإصدار**: 2.0  
**الحالة**: ✅ جاهز للإنتاج
